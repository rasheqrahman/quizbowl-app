{"ast":null,"code":"var _jsxFileName = \"/Users/rasheqrahman/Desktop/naqt-quizbowl-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { auth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from \"./firebase\";\nimport QuizbowlApp from \"./QuizbowlApp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getInitialAuthToken() {\n  if (typeof window !== 'undefined' && window.__initial_auth_token) {\n    return window.__initial_auth_token;\n  }\n  return null;\n}\nfunction getAppId() {\n  if (typeof window !== 'undefined' && window.__app_id) {\n    return window.__app_id;\n  }\n  return 'default-quizbowl-app';\n}\nexport default function App() {\n  _s();\n  const [userId, setUserId] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [authError, setAuthError] = useState(null);\n  const [appId, setAppId] = useState(getAppId());\n  useEffect(() => {\n    let unsub;\n    setLoading(true);\n    setAuthError(null);\n    const token = getInitialAuthToken();\n    if (token) {\n      signInWithCustomToken(auth, token).catch(e => {\n        setAuthError('Custom token sign-in failed: ' + (e.message || e.code));\n        setLoading(false);\n      });\n    } else {\n      signInAnonymously(auth).catch(e => {\n        setAuthError('Anonymous sign-in failed: ' + (e.message || e.code));\n        setLoading(false);\n      });\n    }\n    unsub = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUserId(user.uid);\n        setLoading(false);\n      } else {\n        setUserId(null);\n        setLoading(false);\n      }\n    });\n    return () => {\n      if (unsub) unsub();\n    };\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gray-950\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-4 text-gray-300 text-lg\",\n        children: \"Authenticating...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n  if (authError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center min-h-screen bg-gray-950\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-400 text-lg font-semibold mb-2\",\n        children: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mt-2 px-4 py-2 bg-blue-600 rounded text-white font-semibold hover:bg-blue-700\",\n        onClick: () => window.location.reload(),\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(QuizbowlApp, {\n    userId: userId,\n    appId: appId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 10\n  }, this);\n}\n_s(App, \"VE+vWOJFkXM5Swlm6c+N0pHB+3Q=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","auth","signInAnonymously","signInWithCustomToken","onAuthStateChanged","QuizbowlApp","jsxDEV","_jsxDEV","getInitialAuthToken","window","__initial_auth_token","getAppId","__app_id","App","_s","userId","setUserId","loading","setLoading","authError","setAuthError","appId","setAppId","unsub","token","catch","e","message","code","user","uid","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","location","reload","_c","$RefreshReg$"],"sources":["/Users/rasheqrahman/Desktop/naqt-quizbowl-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { auth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from \"./firebase\";\nimport QuizbowlApp from \"./QuizbowlApp\";\n\nfunction getInitialAuthToken() {\n  if (typeof window !== 'undefined' && window.__initial_auth_token) {\n    return window.__initial_auth_token;\n  }\n  return null;\n}\n\nfunction getAppId() {\n  if (typeof window !== 'undefined' && window.__app_id) {\n    return window.__app_id;\n  }\n  return 'default-quizbowl-app';\n}\n\nexport default function App() {\n  const [userId, setUserId] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [authError, setAuthError] = useState(null);\n  const [appId, setAppId] = useState(getAppId());\n\n  useEffect(() => {\n    let unsub;\n    setLoading(true);\n    setAuthError(null);\n    const token = getInitialAuthToken();\n    if (token) {\n      signInWithCustomToken(auth, token)\n        .catch(e => {\n          setAuthError('Custom token sign-in failed: ' + (e.message || e.code));\n          setLoading(false);\n        });\n    } else {\n      signInAnonymously(auth)\n        .catch(e => {\n          setAuthError('Anonymous sign-in failed: ' + (e.message || e.code));\n          setLoading(false);\n        });\n    }\n    unsub = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUserId(user.uid);\n        setLoading(false);\n      } else {\n        setUserId(null);\n        setLoading(false);\n      }\n    });\n    return () => {\n      if (unsub) unsub();\n    };\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-950\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400\"></div>\n        <span className=\"ml-4 text-gray-300 text-lg\">Authenticating...</span>\n      </div>\n    );\n  }\n  if (authError) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-950\">\n        <div className=\"text-red-400 text-lg font-semibold mb-2\">{authError}</div>\n        <button\n          className=\"mt-2 px-4 py-2 bg-blue-600 rounded text-white font-semibold hover:bg-blue-700\"\n          onClick={() => window.location.reload()}\n        >Retry</button>\n      </div>\n    );\n  }\n  return <QuizbowlApp userId={userId} appId={appId} />;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}